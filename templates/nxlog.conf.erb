# THIS FILE IS MANAGED BY PUPPET #

## See the nxlog reference manual about the configuration options. It should be
## installed locally and is also available online at
## http://nxlog.org/nxlog-docs/en/nxlog-reference-manual.html

<% if @root -%>
## Please set the ROOT to the folder your nxlog was installed into,
## otherwise it will not start.
define ROOT <%= @root %>
<% end -%>

<% if @module_dir -%>
Moduledir <%= @module_dir %>
<% end -%>
<% if @cache_dir -%>
CacheDir <%= @cache_dir %>
<% end -%>
<% if @pid_file -%>
Pidfile <%= @pid_file %>
<% end -%>
<% if @spool_dir -%>
SpoolDir <%= @spool_dir %>
<% end -%>
<% if @log_file -%>
LogFile <%= @log_file %>
<% end -%>

<%- if @extensions -%>
  <%- @extensions.each do |e| -%>
<Extension <%= e %>>
    Module xm_<%= e %>
</Extension>
  <% end -%>
<% end %>
include <%= @conf_dir %>/*.conf
